const customer = items[0].json;

// -----------------------------
// üïì ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î
// ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏•‡∏Ç‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡πÄ‡∏ä‡πà‡∏ô 7 = ‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î 7 ‡∏ß‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≠‡∏Å‡∏ö‡∏¥‡∏•
// -----------------------------
const daysToAdd = 7;

// ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÉ‡∏ö‡πÅ‡∏à‡πâ‡∏á‡∏´‡∏ô‡∏µ‡πâ (‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ)
const now = new Date();
const invoice_date = now.toISOString().split('T')[0]; // ‡πÄ‡∏ä‡πà‡∏ô "2025-10-26"

// ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏≤‡∏° daysToAdd)
const due_date = new Date(now);
due_date.setDate(now.getDate() + daysToAdd);
const invoice_due_date = due_date.toISOString().split('T')[0];

// -----------------------------
// ‚úÖ ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏Ñ‡πà‡∏≤ Room ‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏à‡∏≤‡∏Å Node ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤
// -----------------------------
const roomName = `‡∏´‡∏≠‡∏û‡∏±‡∏Å room ${customer.Room}`;

return [
  {
    json: {
      name: roomName, // ‚úÖ ‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å Room
      StartUnit: customer.StartUnit,       // ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÄ‡∏Å‡πà‡∏≤
      EndUnit: customer.EndUnit,           // ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÉ‡∏´‡∏°‡πà
      UsedUnit: customer.UsedUnit,         // ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
      WaterTotal: customer.WaterTotal,     // ‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥
      RoomPrice: customer.RoomPrice,       // ‡∏Ñ‡πà‡∏≤‡∏´‡πâ‡∏≠‡∏á
      TotalPrice: customer.TotalPrice,     // ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

      InvoiceDate: invoice_date,           // ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡∏ö‡∏¥‡∏•
      DueDate: invoice_due_date,           // ‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î
      date: now.toLocaleDateString('th-TH'), // ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏ó‡∏¢

    }
  }
];
